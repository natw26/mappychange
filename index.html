<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MappyChange</title>

  <!-- Fonts and MapLibre CSS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet" />
  <link rel="icon" href="assets/favicon.ico" />

  <style>
    :root{
      --bg:#fff; --fg:#111; --muted:#6b7280; --accent:#ffd300; --accent-ink:#1a1a1a; --border:#e5e7eb;
    }
    *{ box-sizing:border-box; }
    html, body { height:100%; margin:0; background:var(--bg); color:var(--fg); font:16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    .app{ display:grid; grid-template-rows:auto auto 1fr; min-height:100%; }
    header{ border-bottom:1px solid var(--border); background:var(--bg); text-align:center; }
    .container{ max-width:1100px; margin:0 auto; padding:12px 16px; }

    /* Brand */
    .brand{ display:flex; align-items:center; justify-content:center; gap:10px; font-family:'Poppins',sans-serif; font-weight:600; }
    .brand img{ height:32px; }
    .tagline{ margin:6px 0 0; font-size:14px; color:var(--muted); }

    /* Controls */
    .controls{ display:grid; grid-template-columns:1fr; gap:8px; margin-top:12px; }
    @media (min-width: 860px){
      .controls{ grid-template-columns:1fr auto auto; align-items:center; }
    }
    .input, .btn{ padding:12px 14px; border-radius:10px; border:1px solid var(--border); background:#fff; color:var(--fg); font-size:16px; }
    .btn{ cursor:pointer; font-weight:600; border-color:#111; }
    .btn.accent{ background:var(--accent); border-color:var(--accent); color:var(--accent-ink); }
    .btn:focus, .input:focus{ outline:2px solid var(--accent); outline-offset:2px; }

/* Results */
.results-list{
  max-height: 320px;
  overflow: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin: 10px 0 0;
}

/* Card */
.result-card{
  display: grid;
  grid-template-columns: 36px 1fr auto;
  gap: 10px;
  align-items: center;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .15s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,.06);
}
.result-card:hover{ background:#fafafa; transform: translateY(-1px); box-shadow: 0 4px 10px rgba(0,0,0,.08); }
.result-card:focus-within{ outline: 2px solid var(--accent); outline-offset: 2px; }

.card-icon{
  width: 36px; height: 36px;
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: 10px;
  background: #fff7b3; /* soft yellow pad */
  border: 1px solid var(--border);
}
.card-icon img{ width: 20px; height: 20px; display:block; }

.card-main{ min-width: 0; }
.card-title{
  margin: 0; font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 15px;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.card-sub{
  margin: 2px 0 0; font-size: 13px; color: var(--muted);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Chips row */
.card-tags{ margin-top: 6px; display:flex; flex-wrap:wrap; gap:6px; }
.tag{
  font-size: 12px; padding: 3px 8px; border-radius: 999px;
  border:1px solid var(--border); background:#fff;
}
.tag.accent{ background: var(--accent); border-color: var(--accent); color: var(--accent-ink); }

/* Distance column */
.card-dist{
  text-align: right; font-size: 12px; color: var(--muted);
  min-width: 64px;
}

    
    /* Main layout */
    .main{ position:relative; display:grid; grid-template-columns: 1fr; }
    #map{ width:100%; height:520px; border-top:1px solid var(--border); }
    @media (min-width: 1100px){
      #map{ height:640px; }
    }

    /* Floating action button */
    .fab{ position:absolute; bottom:16px; right:16px; width:56px; height:56px; border-radius:50%; border:2px solid #111; background:var(--accent); color:var(--accent-ink); font-size:28px; display:flex; align-items:center; justify-content:center; cursor:pointer; }
    .fab:focus{ outline:3px solid #000; outline-offset:3px; }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="container">
        <div class="brand">
          <img src="assets/pin.png" alt="MappyChange logo">
          <span>MappyChange</span>
        </div>
        <p class="tagline">Helping you quickly find a safe, clean place to change your baby while out and about.</p>

        <!-- Controls -->
        <div class="controls">
          <input id="search" class="input" type="search" placeholder="Search by venue name, postcode or category (eg. pub)" autocomplete="off" />
          <button id="searchBtn" class="btn accent" aria-label="Search">Search</button>
          <button id="locate" class="btn" aria-label="Use my location">Use my location</button>
          <!-- Results list (appears under controls on all sizes) -->
          <div id="results" class="results-list" style="grid-column: 1 / -1;"></div>
        </div>
      </div>
    </header>

    <div class="main">
      <div id="map" role="application" aria-label="Map of baby changing places"></div>
      <button id="fab-suggest" class="fab" title="Suggest a place" aria-label="Suggest a place">+</button>
    </div>
  </div>

  <!-- MapLibre and your script -->
  <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
  <script src="assets/script.js"></script>
</body>
</html>
